{"ast":null,"code":"import CarApi from \"@/api/car/CarApi\";\nexport default {\n  name: \"Car\",\n\n  data() {\n    return {\n      carPageParams: {\n        name: '',\n        startTime: '',\n        endTime: '',\n        isDispatch: false\n      },\n      page: 1,\n      limit: 5,\n      total: 0,\n      cars: [],\n      isMultiple: false,\n      carIdList: [],\n      carSaveVisible: false,\n      car: {\n        carId: '',\n        name: ''\n      }\n    };\n  },\n\n  created() {\n    this.pageFind();\n  },\n\n  methods: {\n    saveCar() {\n      // 添加车辆操作\n      if (!this.car.carId) {\n        this.$message.error('请输入车牌号');\n        return;\n      }\n\n      if (!this.car.name) {\n        this.$message.error('请输入车辆名称');\n        return;\n      } // 调用接口\n\n\n      CarApi.saveCar(this.car).then(resp => {\n        if (resp.data.code === 200) {\n          this.$message.success(resp.data.msg);\n          this.carSaveVisible = false;\n          this.pageFind();\n          return;\n        }\n\n        this.$message.error(resp.data.msg);\n      });\n    },\n\n    showSaveCar() {\n      // 展示添加车辆窗口\n      this.carSaveVisible = true;\n    },\n\n    pageFind() {\n      // 分页查看车辆信息\n      CarApi.pageFind(this.page, this.limit, this.carPageParams).then(resp => {\n        if (resp.data.code === 200) {\n          this.cars = resp.data.data.data;\n          return;\n        }\n\n        this.$message.error(resp.data.data.msg);\n      });\n    },\n\n    handleSizeChange(limit) {\n      this.limit = limit;\n    },\n\n    handleCurrentChange(page) {\n      this.page = page;\n    },\n\n    multipleCarRemove() {// 多选删除操作\n    },\n\n    carRemove(id) {// 单选删除车辆操作\n    },\n\n    handleSelectionChange(list) {\n      // 多选操作\n      this.carIdList = [];\n      list.forEach(item => {\n        this.carIdList.push(item.id);\n      });\n      this.isMultiple = this.carIdList.length > 0;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAyHA;AAEA;EACAA,WADA;;EAEAC;IACA;MACAC;QACAF,QADA;QAEAG,aAFA;QAGAC,WAHA;QAIAC;MAJA,CADA;MAOAC,OAPA;MAQAC,QARA;MASAC,QATA;MAUAC,QAVA;MAWAC,iBAXA;MAYAC,aAZA;MAaAC,qBAbA;MAcAC;QACAC,SADA;QAEAd;MAFA;IAdA;EAmBA,CAtBA;;EAsBAe;IACA;EACA,CAxBA;;EAwBAC;IACAC;MAAA;MACA;QACA;QACA;MACA;;MACA;QACA;QACA;MACA,CARA,CAUA;;;MACAC;QACA;UACA;UACA;UACA;UACA;QACA;;QAEA;MACA,CATA;IAWA,CAvBA;;IAwBAC;MAAA;MACA;IACA,CA1BA;;IA2BAC;MAAA;MACAF;QACA;UACA;UACA;QACA;;QAEA;MACA,CAPA;IAQA,CApCA;;IAqCAG;MACA;IACA,CAvCA;;IAwCAC;MACA;IACA,CA1CA;;IA2CAC;IAEA,CA7CA;;IA8CAC;IAEA,CAhDA;;IAiDAC;MAAA;MACA;MACAC;QACA;MACA,CAFA;MAIA;IACA;;EAxDA;AAxBA","names":["name","data","carPageParams","startTime","endTime","isDispatch","page","limit","total","cars","isMultiple","carIdList","carSaveVisible","car","carId","created","methods","saveCar","CarApi","showSaveCar","pageFind","handleSizeChange","handleCurrentChange","multipleCarRemove","carRemove","handleSelectionChange","list"],"sourceRoot":"src/views/car","sources":["Car.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"height: 60px\">\r\n\r\n            <div style=\"float: left\">\r\n                <el-button type=\"primary\" plain @click=\"showSaveCar\">车辆入库</el-button>\r\n            </div>\r\n            <div style=\"float: left; padding-left: 30px\">\r\n                <el-date-picker\r\n                        v-model=\"carPageParams.startTime\"\r\n                        type=\"datetime\"\r\n                        placeholder=\"起始日期\">\r\n                </el-date-picker>\r\n            </div>\r\n            <div style=\"float: left;\">\r\n                <el-date-picker\r\n                        v-model=\"carPageParams.endTime\"\r\n                        type=\"datetime\"\r\n                        placeholder=\"截至日期\">\r\n                </el-date-picker>\r\n            </div>\r\n            <div style=\"float: left; padding-left: 20px\">\r\n                <el-button type=\"primary\" icon=\"el-icon-search\"></el-button>\r\n            </div>\r\n            <div style=\"float: left; padding-left: 60px\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :page-sizes=\"[5, 10, 20, 40]\"\r\n                        :page-size=\"limit\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n            <div style=\"float: left; padding-left: 60px\">\r\n                <el-button v-if=\"isMultiple\" type=\"danger\" @click=\"multipleCarRemove\">多选删除</el-button>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <el-table height=\"800px\"\r\n                      :data=\"cars\"\r\n                      style=\"width: 100%\"\r\n                      @selection-change=\"handleSelectionChange\">\r\n                <el-table-column\r\n                        type=\"selection\"\r\n                        width=\"55\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"车辆编号\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"carId\"\r\n                        label=\"车牌号\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"dispatcherName\"\r\n                        label=\"司机名称\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"name\"\r\n                        label=\"车辆名称\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"startUseTime\"\r\n                        label=\"开始使用时间\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"useTime\"\r\n                        label=\"已使用时间/天\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"state\"\r\n                        label=\"车辆状态\"\r\n                        width=\"80\">\r\n                </el-table-column>\r\n                <el-table-column width=\"180\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div>\r\n                            <el-button type=\"primary\">详情</el-button>\r\n                            <el-button type=\"danger\" @click=\"carRemove(scope.row.id)\">删除</el-button>\r\n                        </div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n\r\n        <div>\r\n\r\n            <el-dialog\r\n                    title=\"车辆入库\"\r\n                    :visible.sync=\"carSaveVisible\"\r\n                    width=\"30%\">\r\n                <span>\r\n                    <el-form :model=\"car\" status-icon ref=\"car\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n                        <el-form-item label=\"车辆牌照\">\r\n                            <el-input type=\"text\" v-model=\"car.carId\" autocomplete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"车辆名称\">\r\n                            <el-input type=\"text\" v-model=\"car.name\" autocomplete=\"off\"></el-input>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </span>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"carSaveVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"saveCar\">确 定</el-button>\r\n                </span>\r\n            </el-dialog>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import CarApi from \"@/api/car/CarApi\"\r\n\r\n    export default {\r\n        name: \"Car\",\r\n        data() {\r\n            return {\r\n                carPageParams: {\r\n                    name: '',\r\n                    startTime: '',\r\n                    endTime: '',\r\n                    isDispatch: false\r\n                },\r\n                page: 1,\r\n                limit: 5,\r\n                total: 0,\r\n                cars: [],\r\n                isMultiple: false,\r\n                carIdList: [],\r\n                carSaveVisible: false,\r\n                car: {\r\n                    carId: '',\r\n                    name: ''\r\n                }\r\n            }\r\n        }, created() {\r\n            this.pageFind()\r\n        }, methods: {\r\n            saveCar() {    // 添加车辆操作\r\n                if (!this.car.carId) {\r\n                    this.$message.error('请输入车牌号')\r\n                    return\r\n                }\r\n                if (!this.car.name) {\r\n                    this.$message.error('请输入车辆名称')\r\n                    return\r\n                }\r\n\r\n                // 调用接口\r\n                CarApi.saveCar(this.car).then(resp => {\r\n                    if (resp.data.code === 200) {\r\n                        this.$message.success(resp.data.msg)\r\n                        this.carSaveVisible = false\r\n                        this.pageFind()\r\n                        return\r\n                    }\r\n\r\n                    this.$message.error(resp.data.msg)\r\n                })\r\n\r\n            },\r\n            showSaveCar() {    // 展示添加车辆窗口\r\n                this.carSaveVisible = true\r\n            },\r\n            pageFind() {  // 分页查看车辆信息\r\n                CarApi.pageFind(this.page, this.limit, this.carPageParams).then(resp => {\r\n                    if (resp.data.code === 200) {\r\n                        this.cars = resp.data.data.data\r\n                        return\r\n                    }\r\n\r\n                    this.$message.error(resp.data.data.msg)\r\n                })\r\n            },\r\n            handleSizeChange(limit) {\r\n                this.limit = limit\r\n            },\r\n            handleCurrentChange(page) {\r\n                this.page = page\r\n            },\r\n            multipleCarRemove() {  // 多选删除操作\r\n\r\n            },\r\n            carRemove(id) {  // 单选删除车辆操作\r\n\r\n            },\r\n            handleSelectionChange(list) {  // 多选操作\r\n                this.carIdList = []\r\n                list.forEach(item => {\r\n                    this.carIdList.push(item.id)\r\n                })\r\n\r\n                this.isMultiple = this.carIdList.length > 0\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}