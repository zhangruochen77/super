{"ast":null,"code":"import OrderApi from \"@/api/order/OrderApi\";\nexport default {\n  name: \"Order\",\n\n  data() {\n    return {\n      orders: [],\n      page: 1,\n      limit: 5,\n      total: 0,\n      selectionIds: [],\n      isMultiple: false,\n      orderDetailsVisible: false,\n      orderDetails: {\n        // 订单详细信息\n        id: null,\n        createTime: null,\n        deliverTime: null,\n        arriveTime: null,\n        goodsId: null,\n        goodsName: null,\n        img: null,\n        dispatcherId: null,\n        dispatcherName: null,\n        userId: null,\n        username: null,\n        userPhone: null,\n        number: null,\n        deliverArea: null,\n        receiveArea: null,\n        state: 0\n      }\n    };\n  },\n\n  created() {\n    this.pageFind();\n  },\n\n  methods: {\n    showOrderDetails(id) {\n      // 展示商品详情\n      OrderApi.orderDetailsById(id).then(resp => {\n        if (resp.data.code === 200) {\n          this.orderDetails = resp.data.data;\n          this.orderDetailsVisible = true;\n          return;\n        }\n\n        this.$message.error(resp.data.msg);\n      });\n    },\n\n    pageFind() {\n      // 分页查看\n      OrderApi.pageFind(this.page, this.limit).then(resp => {\n        this.orders = resp.data.data.data;\n        this.total = resp.data.data.total;\n      });\n    },\n\n    handleSizeChange(limit) {\n      this.limit = limit;\n      this.pageFind();\n    },\n\n    handleCurrentChange(page) {\n      this.page = page;\n      this.pageFind();\n    },\n\n    handleSelectionChange(orders) {\n      this.selectionIds = [];\n      orders.forEach(o => {\n        this.selectionIds.push(o.id);\n      });\n      this.isMultiple = this.selectionIds.length > 0;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2HA;AAEA;EACAA,aADA;;EAEAC;IACA;MACAC,UADA;MAEAC,OAFA;MAGAC,QAHA;MAIAC,QAJA;MAKAC,gBALA;MAMAC,iBANA;MAOAC,0BAPA;MAQAC;QAAA;QACAC,QADA;QAEAC,gBAFA;QAGAC,iBAHA;QAIAC,gBAJA;QAKAC,aALA;QAMAC,eANA;QAOAC,SAPA;QAQAC,kBARA;QASAC,oBATA;QAUAC,YAVA;QAWAC,cAXA;QAYAC,eAZA;QAaAC,YAbA;QAcAC,iBAdA;QAeAC,iBAfA;QAgBAC;MAhBA;IARA;EA2BA,CA9BA;;EA8BAC;IACA;EACA,CAhCA;;EAgCAC;IACAC;MAAA;MACAC;QACA;UACA;UACA;UACA;QACA;;QAEA;MACA,CARA;IASA,CAXA;;IAYAC;MAAA;MACAD;QACA;QACA;MACA,CAHA;IAIA,CAjBA;;IAkBAE;MACA;MACA;IACA,CArBA;;IAsBAC;MACA;MACA;IACA,CAzBA;;IA0BAC;MACA;MACA/B;QACA;MACA,CAFA;MAIA;IACA;;EAjCA;AAhCA","names":["name","data","orders","page","limit","total","selectionIds","isMultiple","orderDetailsVisible","orderDetails","id","createTime","deliverTime","arriveTime","goodsId","goodsName","img","dispatcherId","dispatcherName","userId","username","userPhone","number","deliverArea","receiveArea","state","created","methods","showOrderDetails","OrderApi","pageFind","handleSizeChange","handleCurrentChange","handleSelectionChange"],"sourceRoot":"src/views/order","sources":["Order.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div>\r\n            <el-button style=\"float: left;\" type=\"primary\" icon=\"el-icon-search\" @click=\"pageFind\"></el-button>\r\n            <div style=\"float: left; padding-left: 60px\">\r\n                <el-pagination\r\n                        @size-change=\"handleSizeChange\"\r\n                        @current-change=\"handleCurrentChange\"\r\n                        :page-sizes=\"[5, 10, 20, 40]\"\r\n                        :page-size=\"limit\"\r\n                        layout=\"total, sizes, prev, pager, next, jumper\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n            <div style=\"float: left; padding-left: 20px\">\r\n                <div style=\"float: left; padding-left: 60px\">\r\n                    <el-button v-if=\"isMultiple\" type=\"success\" @click=\"multipleCarImport\">多选导出</el-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <el-table height=\"800px\"\r\n                      :data=\"orders\"\r\n                      style=\"width: 100%\"\r\n                      @selection-change=\"handleSelectionChange\">\r\n                <el-table-column\r\n                        type=\"selection\"\r\n                        width=\"55\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"img\"\r\n                        label=\"商品图片\"\r\n                        width=\"120\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div style=\"height: 120px;width: 120px\">\r\n                            <img :src=\"scope.row.img\" style=\"height: 100%; width: 100%;\">\r\n                        </div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"id\"\r\n                        label=\"订单编号\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"goodsName\"\r\n                        label=\"商品名称\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"dispatcherName\"\r\n                        label=\"司机名称\"\r\n                        width=\"180\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        label=\"信息\"\r\n                        width=\"240\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div>\r\n                            {{scope.row.time}}\r\n                            <el-tag v-if=\"scope.row.state === 0\" type=\"success\">用户创建了订单</el-tag>\r\n                            <el-tag v-if=\"scope.row.state === 1\" type=\"success\">派送员接收订单</el-tag>\r\n                            <el-tag v-if=\"scope.row.state === 2\" type=\"success\">派送员完成订单</el-tag>\r\n                        </div>\r\n                    </template>\r\n                </el-table-column>\r\n\r\n                <el-table-column width=\"240\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div>\r\n                            <el-button type=\"primary\" @click=\"showOrderDetails(scope.row.id)\">详情</el-button>\r\n                        </div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n\r\n        <div>\r\n            <el-dialog\r\n                    title=\"订单详细信息\"\r\n                    :visible.sync=\"orderDetailsVisible\"\r\n                    width=\"40%\">\r\n                <span>\r\n                    <el-descriptions direction=\"vertical\" :column=\"4\" border>\r\n                        <el-descriptions-item label=\"商品编号\">{{orderDetails.goodsId}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品图片\">图片</el-descriptions-item>\r\n                        <el-descriptions-item label=\"用户编号\">{{orderDetails.userId}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"用户名称\">{{orderDetails.username}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"用户手机\">{{orderDetails.userPhone}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"商品名称\">{{orderDetails.goodsName}}</el-descriptions-item>\r\n                        <el-descriptions-item label=\"\" :span=\"2\">苏州市</el-descriptions-item>\r\n                        <el-descriptions-item label=\"备注\">\r\n                            <el-tag size=\"small\">学校</el-tag>\r\n                        </el-descriptions-item>\r\n                        <el-descriptions-item label=\"联系地址\">江苏省苏州市吴中区吴中大道 1188 号</el-descriptions-item>\r\n                        </el-descriptions>\r\n                    </span>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"orderDetailsVisible = false\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"orderDetailsVisible = false\">确 定</el-button>\r\n                </span>\r\n            </el-dialog>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import OrderApi from \"@/api/order/OrderApi\"\r\n\r\n    export default {\r\n        name: \"Order\",\r\n        data() {\r\n            return {\r\n                orders: [],\r\n                page: 1,\r\n                limit: 5,\r\n                total: 0,\r\n                selectionIds: [],\r\n                isMultiple: false,\r\n                orderDetailsVisible: false,\r\n                orderDetails: {  // 订单详细信息\r\n                    id: null,\r\n                    createTime: null,\r\n                    deliverTime: null,\r\n                    arriveTime: null,\r\n                    goodsId: null,\r\n                    goodsName: null,\r\n                    img: null,\r\n                    dispatcherId: null,\r\n                    dispatcherName: null,\r\n                    userId: null,\r\n                    username: null,\r\n                    userPhone: null,\r\n                    number: null,\r\n                    deliverArea: null,\r\n                    receiveArea: null,\r\n                    state: 0\r\n                }\r\n            }\r\n        }, created() {\r\n            this.pageFind()\r\n        }, methods: {\r\n            showOrderDetails(id) {   // 展示商品详情\r\n                OrderApi.orderDetailsById(id).then(resp => {\r\n                    if (resp.data.code === 200) {\r\n                        this.orderDetails = resp.data.data\r\n                        this.orderDetailsVisible = true\r\n                        return\r\n                    }\r\n\r\n                    this.$message.error(resp.data.msg)\r\n                })\r\n            },\r\n            pageFind() {  // 分页查看\r\n                OrderApi.pageFind(this.page, this.limit).then(resp => {\r\n                    this.orders = resp.data.data.data\r\n                    this.total = resp.data.data.total\r\n                })\r\n            },\r\n            handleSizeChange(limit) {\r\n                this.limit = limit\r\n                this.pageFind()\r\n            },\r\n            handleCurrentChange(page) {\r\n                this.page = page\r\n                this.pageFind()\r\n            },\r\n            handleSelectionChange(orders) {\r\n                this.selectionIds = []\r\n                orders.forEach(o => {\r\n                    this.selectionIds.push(o.id)\r\n                })\r\n\r\n                this.isMultiple = this.selectionIds.length > 0\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}