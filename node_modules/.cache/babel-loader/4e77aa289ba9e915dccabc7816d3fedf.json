{"ast":null,"code":"import goodsApi from '@/api/warehouse/GoodsApi';\nimport provinceApi from '@/api/cmn/ProvinceApi';\nimport cityApi from '@/api/cmn/CityApi';\nimport countyApi from '@/api/cmn/CountyApi';\nexport default {\n  name: \"Goods\",\n\n  data() {\n    return {\n      page: 1,\n      // 查询第几页\n      limit: 5,\n      // 每条记录数\n      goodsQueryVo: {\n        // 商品条件查询对象\n        province: null,\n        city: null,\n        county: null,\n        name: \"\",\n        priceStart: null,\n        priceEnd: null\n      },\n      goodsList: [],\n      total: 0,\n      provinces: [],\n      cities: [],\n      counties: []\n    };\n  },\n\n  created() {\n    this.initGoods();\n  },\n\n  methods: {\n    initGoods() {\n      // 初始化页面函数\n      this.pageFindGoods();\n      this.getAllProvinces();\n    },\n\n    pageFindGoods() {\n      // 分页查找商品信息\n      goodsApi.pageFind(this.page, this.limit, this.goodsQueryVo).then(resp => {\n        this.goodsList = resp.data.data.records;\n        this.total = resp.data.data.total;\n      });\n    },\n\n    getAllProvinces() {\n      // 获取所有省\n      provinceApi.getAllProvinces().then(resp => {\n        this.provinces = resp.data.data;\n      });\n    },\n\n    getAllCitiesByParentId() {\n      // 获取省下所有市\n      this.goodsQueryVo.city = null;\n      this.goodsQueryVo.county = null;\n      this.cities = [];\n      this.counties = [];\n      cityApi.getAllCitiesByParentId(this.goodsQueryVo.province).then(resp => {\n        this.cities = resp.data.data;\n      });\n    },\n\n    getCountiesByParentId() {\n      // 获取市下所有区县\n      this.goodsQueryVo.county = null;\n      this.counties = [];\n      countyApi.getCountiesByParentId(this.goodsQueryVo.city).then(resp => {\n        this.counties = resp.data.data;\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8GA;AACA;AACA;AACA;AAEA;EACAA,aADA;;EAEAC;IACA;MACAC,OADA;MACA;MACAC,QAFA;MAEA;MACAC;QAAA;QACAC,cADA;QAEAC,UAFA;QAGAC,YAHA;QAIAP,QAJA;QAKAQ,gBALA;QAMAC;MANA,CAHA;MAWAC,aAXA;MAYAC,QAZA;MAaAC,aAbA;MAcAC,UAdA;MAeAC;IAfA;EAiBA,CApBA;;EAqBAC;IACA;EACA,CAvBA;;EAwBAC;IACAC;MAAA;MACA;MACA;IACA,CAJA;;IAKAC;MAAA;MACAC;QACA;QACA;MACA,CAHA;IAIA,CAVA;;IAWAC;MAAA;MAEAC;QACA;MACA,CAFA;IAGA,CAhBA;;IAiBAC;MAAA;MACA;MACA;MACA;MACA;MACAC;QACA;MACA,CAFA;IAGA,CAzBA;;IA0BAC;MAAA;MACA;MACA;MACAC;QACA;MACA,CAFA;IAGA;;EAhCA;AAxBA","names":["name","data","page","limit","goodsQueryVo","province","city","county","priceStart","priceEnd","goodsList","total","provinces","cities","counties","created","methods","initGoods","pageFindGoods","goodsApi","getAllProvinces","provinceApi","getAllCitiesByParentId","cityApi","getCountiesByParentId","countyApi"],"sourceRoot":"src/views/warehouse","sources":["Goods.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <div style=\"height: 70px\">\r\n            <div style=\"float:left;\">\r\n                <el-button type=\"success\" plain>添加商品</el-button>\r\n            </div>\r\n            <div style=\"float:left;padding-left: 40px\">\r\n                <div style=\"float: left\">\r\n                    <el-input v-model=\"goodsQueryVo.name\" placeholder=\"请输入商品名称\"></el-input>\r\n                </div>\r\n                <div style=\"float: left;width: 100px;padding-left: 5px\">\r\n                    <el-select v-model=\"goodsQueryVo.province\" placeholder=\"选择省\" @change=\"getAllCitiesByParentId()\">\r\n                        <el-option\r\n                                v-for=\"item in provinces\"\r\n                                :key=\"item.id\"\r\n                                :label=\"item.value\"\r\n                                :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div style=\"float: left;width: 100px;padding-left: 5px\">\r\n                    <el-select v-model=\"goodsQueryVo.city\" :disabled=\"!goodsQueryVo.province\" placeholder=\"选择市\" @change=\"getCountiesByParentId\">\r\n                        <el-option\r\n                                v-for=\"item in cities\"\r\n                                :key=\"item.id\"\r\n                                :label=\"item.value\"\r\n                                :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div style=\"float: left;width: 100px;padding-left: 5px\">\r\n                    <el-select v-model=\"goodsQueryVo.county\" :disabled=\"!goodsQueryVo.city\" placeholder=\"选择区\">\r\n                        <el-option\r\n                                v-for=\"item in counties\"\r\n                                :key=\"item.id\"\r\n                                :label=\"item.value\"\r\n                                :value=\"item.id\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </div>\r\n                <div style=\"float:left;padding-left: 10px;width: 130px\">\r\n                    <el-input v-model=\"goodsQueryVo.priceStart\" placeholder=\"起始价格\"></el-input>\r\n                </div>\r\n                <div style=\"float:left;padding-left: 10px;width: 130px\">\r\n                    <el-input v-model=\"goodsQueryVo.priceEnd\" placeholder=\"终止价格\"></el-input>\r\n                </div>\r\n                <div style=\"float: left; padding-left: 10px\">\r\n                    <el-button type=\"primary\" plain icon=\"el-icon-search\" @click=\"pageFindGoods\"></el-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div>\r\n            <template>\r\n                <el-table\r\n                        :data=\"goodsList\"\r\n                        stripe\r\n                        height=\"700px\"\r\n                        style=\"width: 100%\">\r\n                    <el-table-column\r\n                            label=\"图片\"\r\n                            width=\"280\">\r\n                        <template slot-scope=\"scope\">\r\n                            <img :src=\"scope.row.img\" width=\"100px\" height=\"100px\">\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"name\"\r\n                            label=\"名称\"\r\n                            width=\"180\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"number\"\r\n                            label=\"数量/个\"\r\n                            width=\"100\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"price\"\r\n                            label=\"价格/元\"\r\n                            width=\"100\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            prop=\"description\"\r\n                            label=\"描述\"\r\n                            width=\"340\">\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                            label=\"操作\"\r\n                            width=\"300\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button type=\"primary\" round>详细信息</el-button>\r\n                            <el-button type=\"danger\" round>销毁</el-button>\r\n                            <el-button v-if=\"scope.row.state\" type=\"success\" round>上架</el-button>\r\n                            <el-button v-if=\"!scope.row.state\" type=\"warning\" round>下架</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </template>\r\n        </div>\r\n        <div>\r\n            <div class=\"block\">\r\n                <el-pagination style=\"background-color:#f3f6f1;\"\r\n                        layout=\"prev, pager, next\"\r\n                        :total=\"total\">\r\n                </el-pagination>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import goodsApi from '@/api/warehouse/GoodsApi'\r\n    import provinceApi from '@/api/cmn/ProvinceApi'\r\n    import cityApi from '@/api/cmn/CityApi'\r\n    import countyApi from '@/api/cmn/CountyApi'\r\n\r\n    export default {\r\n        name: \"Goods\",\r\n        data() {\r\n            return {\r\n                page: 1,            // 查询第几页\r\n                limit: 5,           // 每条记录数\r\n                goodsQueryVo: {     // 商品条件查询对象\r\n                    province: null,\r\n                    city: null,\r\n                    county: null,\r\n                    name: \"\",\r\n                    priceStart: null,\r\n                    priceEnd: null\r\n                },\r\n                goodsList: [],\r\n                total: 0,\r\n                provinces: [],\r\n                cities: [],\r\n                counties: []\r\n            }\r\n        },\r\n        created() {\r\n            this.initGoods()\r\n        },\r\n        methods: {\r\n            initGoods() {  // 初始化页面函数\r\n                this.pageFindGoods()\r\n                this.getAllProvinces()\r\n            },\r\n            pageFindGoods() {  // 分页查找商品信息\r\n                goodsApi.pageFind(this.page, this.limit, this.goodsQueryVo).then(resp => {\r\n                    this.goodsList = resp.data.data.records\r\n                    this.total = resp.data.data.total\r\n                })\r\n            },\r\n            getAllProvinces() {  // 获取所有省\r\n\r\n                provinceApi.getAllProvinces().then(resp => {\r\n                    this.provinces = resp.data.data\r\n                })\r\n            },\r\n            getAllCitiesByParentId() {  // 获取省下所有市\r\n                this.goodsQueryVo.city = null\r\n                this.goodsQueryVo.county = null\r\n                this.cities = []\r\n                this.counties = []\r\n                cityApi.getAllCitiesByParentId(this.goodsQueryVo.province).then(resp => {\r\n                    this.cities = resp.data.data\r\n                })\r\n            },\r\n            getCountiesByParentId() {  // 获取市下所有区县\r\n                this.goodsQueryVo.county = null\r\n                this.counties = []\r\n                countyApi.getCountiesByParentId(this.goodsQueryVo.city).then(resp => {\r\n                    this.counties = resp.data.data\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]},"metadata":{},"sourceType":"module"}